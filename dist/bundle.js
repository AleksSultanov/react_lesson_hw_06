(()=>{"use strict";new class{constructor(e,t,n){this.fieldClassName=e,this.formClassName=t,this.divClassName=n}async getInfo(e){return await function(e){const t=`https://nominatim.openstreetmap.org/search?addressdetails=1&q=${e}&format=jsonv2&limit=10`;return console.log(t),function(e,t){return fetch(e,{headers:{"Content-Type":"charset=utf-8"},headers:{"Content-Type":"application/json"}}).then((e=>{let t=[{code:"error",status:e.status,text:e.statusText}];return 200===e.status&&(t=e.json()),t})).catch((e=>[{code:"error",text:e}]))}(t)}(e)}init=()=>{const e=document.querySelector(`.${this.formClassName}`),t=document.querySelector(`.${this.divClassName}`),n=document.querySelector(`.${this.fieldClassName}`);e.addEventListener("submit",(e=>{e.preventDefault(),t.innerHTML="Поиск ...",this.getInfo(n.value).then((function(e){t.innerHTML=`Не найдено по ${n.value}`,e.forEach((function(e){t.innerHTML="";let n=document.createElement("div");n.classList.add("container__result-block");let s=document.createElement("div");s.classList.add("container__result-block-key");let a=document.createElement("div");a.classList.add("container__result-block-val"),Object.keys(e).forEach((function(t){let n=document.createElement("div");n.innerHTML=t,n.classList.add("container__result-key");let i=document.createElement("div");i.innerHTML=e[t],i.classList.add("container__result-val"),s.appendChild(n),a.appendChild(i)})),n.appendChild(s),n.appendChild(a),t.appendChild(n)}))}))}))}}("find-input","form-find","container-result").init()})();